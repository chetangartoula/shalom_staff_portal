{
	"info": {
		"_postman_id": "a82a1c4b-b4a3-4b68-a28a-c45f44c6c9a8",
		"name": "Shalom Dashboard API",
		"description": "API documentation for the Shalom Treks Dashboard application.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Reports",
			"item": [
				{
					"name": "Get Paginated Reports",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/api/reports?page=1&limit=10",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"api",
								"reports"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								}
							]
						},
						"description": "Retrieves a paginated list of reports, including payment and traveler join status."
					},
					"response": []
				},
				{
					"name": "Get Report by Group ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/api/reports/7efc6d59-c97e-4a87-a9f0-9dad58eb5d0e",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"api",
								"reports",
								"7efc6d59-c97e-4a87-a9f0-9dad58eb5d0e"
							]
						},
						"description": "Fetches a single report by its unique group ID."
					},
					"response": []
				},
				{
					"name": "Create New Report",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"trekId\": \"annapurna\",\n    \"trekName\": \"Annapurna Circuit Trek\",\n    \"groupName\": \"New Test Group\",\n    \"groupSize\": 4,\n    \"startDate\": \"2025-12-01T00:00:00.000Z\",\n    \"permits\": {\n        \"id\": \"permits\",\n        \"name\": \"Permits & Food\",\n        \"rows\": [],\n        \"discountType\": \"amount\",\n        \"discountValue\": 0\n    },\n    \"services\": {\n        \"id\": \"services\",\n        \"name\": \"Services\",\n        \"rows\": [],\n        \"discountType\": \"amount\",\n        \"discountValue\": 0\n    },\n    \"extraDetails\": {\n        \"id\": \"extraDetails\",\n        \"name\": \"Extra Details\",\n        \"rows\": [],\n        \"discountType\": \"amount\",\n        \"discountValue\": 0\n    },\n    \"customSections\": [],\n    \"serviceCharge\": 13\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{BASE_URL}}/api/reports",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"api",
								"reports"
							]
						},
						"description": "Creates a new cost estimation report."
					},
					"response": []
				},
				{
					"name": "Update Report",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"groupName\": \"Updated Group Name\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{BASE_URL}}/api/reports/7efc6d59-c97e-4a87-a9f0-9dad58eb5d0e",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"api",
								"reports",
								"7efc6d59-c97e-4a87-a9f0-9dad58eb5d0e"
							]
						},
						"description": "Updates details of an existing report."
					},
					"response": []
				}
			]
		},
		{
			"name": "Assignments",
			"item": [
				{
					"name": "Get All Assignments",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/api/assignments",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"api",
								"assignments"
							]
						},
						"description": "Retrieves all team assignments with trek, group, guide, and porter details."
					},
					"response": []
				},
				{
					"name": "Get Assignment by Group ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/api/assignments/7efc6d59-c97e-4a87-a9f0-9dad58eb5d0e",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"api",
								"assignments",
								"7efc6d59-c97e-4a87-a9f0-9dad58eb5d0e"
							]
						},
						"description": "Fetches the guide and porter assignments for a specific group."
					},
					"response": []
				},
				{
					"name": "Update Assignment",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"guideIds\": [\"77fc4ef4-efc4-40ba-a90b-e88448f27e6d\"],\n    \"porterIds\": [\"6d1a4388-edb5-4ed0-8328-f981e670e170\"]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{BASE_URL}}/api/assignments/7efc6d59-c97e-4a87-a9f0-9dad58eb5d0e",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"api",
								"assignments",
								"7efc6d59-c97e-4a87-a9f0-9dad58eb5d0e"
							]
						},
						"description": "Updates or creates the guide and porter assignments for a specific group."
					},
					"response": []
				},
				{
					"name": "Get Assignment Details for Guide",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/api/assignments/details/7efc6d59-c97e-4a87-a9f0-9dad58eb5d0e",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"api",
								"assignments",
								"details",
								"7efc6d59-c97e-4a87-a9f0-9dad58eb5d0e"
							]
						},
						"description": "Fetches a simplified report summary for guides, excluding financial information."
					},
					"response": []
				}
			]
		},
		{
			"name": "Transactions",
			"item": [
				{
					"name": "Get All Transactions",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/api/transactions/all?page=1&limit=10&type=all&from=2025-11-01&to=2025-11-20",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"api",
								"transactions",
								"all"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "type",
									"value": "all",
									"description": "Can be 'all', 'payment', or 'refund'"
								},
								{
									"key": "from",
									"value": "2025-11-01"
								},
								{
									"key": "to",
									"value": "2025-11-20"
								}
							]
						},
						"description": "Retrieves a paginated and filterable list of all transactions across all groups."
					},
					"response": []
				},
				{
					"name": "Get Transactions by Group ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/api/transactions/7efc6d59-c97e-4a87-a9f0-9dad58eb5d0e",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"api",
								"transactions",
								"7efc6d59-c97e-4a87-a9f0-9dad58eb5d0e"
							]
						},
						"description": "Fetches all transactions for a specific group."
					},
					"response": []
				},
				{
					"name": "Add Transaction",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"amount\": 100,\n    \"type\": \"payment\",\n    \"date\": \"2025-11-20T10:00:00.000Z\",\n    \"note\": \"Initial deposit\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{BASE_URL}}/api/transactions/7efc6d59-c97e-4a87-a9f0-9dad58eb5d0e",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"api",
								"transactions",
								"7efc6d59-c97e-4a87-a9f0-9dad58eb5d0e"
							]
						},
						"description": "Adds a new payment or refund transaction to a group."
					},
					"response": []
				}
			]
		},
		{
			"name": "Travelers",
			"item": [
				{
					"name": "Get All Travelers",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/api/travelers/all",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"api",
								"travelers",
								"all"
							]
						},
						"description": "Gets a flat list of all travelers across all groups."
					},
					"response": []
				},
				{
					"name": "Get Travelers by Group ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/api/travelers/146672a2-b70d-4f4c-ac76-7e52ced2adf1",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"api",
								"travelers",
								"146672a2-b70d-4f4c-ac76-7e52ced2adf1"
							]
						},
						"description": "Retrieves the list of travelers for a specific group."
					},
					"response": []
				},
				{
					"name": "Add or Update Traveler",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"traveler\": {\n        \"name\": \"John Doe\",\n        \"phone\": \"+15551234567\",\n        \"address\": \"123 Main St, Anytown, USA\",\n        \"passportNumber\": \"A12345678\",\n        \"emergencyContact\": \"+15559876543\",\n        \"dateOfBirth\": \"1990-01-15T00:00:00.000Z\",\n        \"nationality\": \"American\",\n        \"passportExpiryDate\": \"2030-01-15T00:00:00.000Z\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{BASE_URL}}/api/travelers/146672a2-b70d-4f4c-ac76-7e52ced2adf1",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"api",
								"travelers",
								"146672a2-b70d-4f4c-ac76-7e52ced2adf1"
							]
						},
						"description": "Adds a new traveler to a group or updates an existing one based on a unique ID generated from passport and phone number."
					},
					"response": []
				}
			]
		},
		{
			"name": "Static Data",
			"item": [
				{
					"name": "Get All Treks",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/api/treks",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"api",
								"treks"
							]
						},
						"description": "Retrieves the list of all available treks."
					},
					"response": []
				},
				{
					"name": "Get All Guides",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/api/guides",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"api",
								"guides"
							]
						},
						"description": "Retrieves the list of all guides."
					},
					"response": []
				},
				{
					"name": "Get All Porters",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/api/porters",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"api",
								"porters"
							]
						},
						"description": "Retrieves the list of all porters."
					},
					"response": []
				}
			]
		},
		{
			"name": "Dashboard Stats",
			"item": [
				{
					"name": "Get Main Stats",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/api/stats",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"api",
								"stats"
							]
						},
						"description": "Gets the main statistics for the dashboard cards (total reports, travelers, etc.)."
					},
					"response": []
				},
				{
					"name": "Get Trek Popularity",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/api/stats/trek-popularity",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"api",
								"stats",
								"trek-popularity"
							]
						},
						"description": "Gets data for the trek popularity pie chart."
					},
					"response": []
				},
				{
					"name": "Get Team Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/api/stats/team-status",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"api",
								"stats",
								"team-status"
							]
						},
						"description": "Gets data for the team availability pie chart."
					},
					"response": []
				},
				{
					"name": "Get Payment Analytics",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/api/stats/payments",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"api",
								"stats",
								"payments"
							]
						},
						"description": "Gets data for the 30-day payment analytics line chart."
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "BASE_URL",
			"value": "http://localhost:3000",
			"type": "string"
		}
	]
}
